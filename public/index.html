<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FTTNQMESXD" ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-FTTNQMESXD");
    </script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Mappy Hour</title>
    <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    
    <script src="https://use.fontawesome.com/releases/v6.7.2/js/all.js" crossorigin="anonymous"></script>

    <!-- MAPBOX -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.css" rel="stylesheet">

    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
    <link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <link href="css/nav-style.css" rel="stylesheet" />
  </head>
  <body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand" href="#page-top">Mappy Hour</a>
        <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-2 px-0 px-lg-3 rounded" href="#quizzo">Quizzo Map</a></li>
            <!-- <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-2 px-0 px-lg-3 rounded" href="#restaurant-week">Restaurant Week</a></li> -->
            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-2 px-0 px-lg-3 rounded"href="#meet-the-team">Meet The Team</a></li>
            <!-- <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-2 px-0 px-lg-3 rounded" href="#sips">Sips Deals</a></li> -->
            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-2 px-0 px-lg-3 rounded" href="#deals">Happy Hour Deals</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Masthead -->
    <!-- <header class="masthead text-white text-center "> -->
    <header class="masthead bg-primary text-white text-center gradient">
      <!-- <div class="background"></div> -->
      <div class="container d-flex align-items-center flex-column">
        <div class="px-5 pt-5 v-middle">
          <!-- Masthead Avatar Image-->
          <img
            class="masthead-avatar mb-5"
            src="assets/img/mappyHour.png"
            alt="..."
          />
          <!-- Masthead Heading-->
          <h1 class="masthead-heading text-uppercase mb-0 text-longshadow">
            Mappy Hour
          </h1>
          <!-- Icon Divider-->
          <div class="divider-custom divider-light">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon">
              <i class="fa-solid fa-earth-americas"></i>
            </div>
            <div class="divider-custom-line"></div>
          </div>
          <!-- Masthead Subheading-->
          <p class="masthead-subheading font-weight-light">
            A Louie and Ava Production (Version 0.9)
          </p>
        </div>
      </div>
    </header>

    <!-- Bar Trivia Section-->
    <section class="page-section portfolio" id="quizzo">
      <div class="container">
        <!-- Portfolio Section Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">
          Philly Quizzo Map
        </h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon">
            <i class="fa-solid fa-earth-americas"></i>
          </div>
          <div class="divider-custom-line"></div>
        </div>
        
        <iframe
          src="quizzo_map.html"
          width="100%"
          height="70vh"
          class="maps"
        ></iframe>
        <!-- <div class="row">
          <div class="col-2"></div>
          <img class="custom-col mb-3 align-items-center" src="assets/img/error.png" />
          <div class="col-2"></div>
        </div> -->
        <!-- iFrame-->
        <!-- <div class="iframe-container">
          <iframe src="https://experience.arcgis.com/experience/39acd9a477574c2081015cf3bd9edbe4" width="100%" height="800px"></iframe>
        </div> -->
      </div>
    </section>

    <!-- About Section-->
    <section class="page-section bg-primary text-white mb-0" id="meet-the-team">
      <div class="container">
        <!-- About Section Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-white">
          Meet The Team
        </h2>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon">
            <i class="fa-solid fa-earth-americas"></i>
          </div>
          <div class="divider-custom-line"></div>
        </div>
        <!-- About Section Content-->
        <div class="row">
          <div class="col-2"></div>
          <img
            class="custom-col mb-3 align-items-center"
            src="assets/img/Meet The Team 2.jpg"
            alt="..."
            style="border-radius: 65.5rem;"
          />
          <div class="col-2"></div>
        </div>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon">
            <i class="fa-solid fa-earth-americas"></i>
          </div>
          <div class="divider-custom-line"></div>
        </div>
        <div class="row mt-3">
          <div class="col-2"></div>
          <div class="col-lg-8 text-center ms-auto">
            <p class="lead">
              Meet Louie and Ava, the dynamic duo behind our mapping project.
              Louie, the coding whiz, and Ava, the GIS specialist, joined forces
              to create a cutting-edge mapping application. Their app helps you
              easily find the best happy hour spots in Philly, showing all the
              options on a single map with the latest deals and cool insights.
              Say goodbye to decision paralysis and hello to a seamless,
              data-driven way of discovering the city's hottest happy hour
              deals.
            </p>
          </div>
          <div class="col-2"></div>
        </div>
        <div class="row mt-3">
          <div class="col-2"></div>
          <div class="col-lg-8 me-auto text-center">
            <p class="lead">
              You can find them next year at ESRI's famed User Conference in San
              Diego!
            </p>
          </div>
          <div class="col-2"></div>
        </div>
        <!-- About Section Button-->
        <!-- <div class="text-center mt-4">
                    <a class="btn btn-xl btn-outline-light" href="https://startbootstrap.com/theme/freelancer/">
                        <i class="fas fa-download me-2"></i>
                        Free Download!
                    </a>
                </div> -->
      </div>
    </section>

    <!-- Sips Section-->
    <section class="page-section portfolio" id="sips">
      <div class="container">
        <!-- Portfolio Section Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">
          Center City Sips 2024 (6/5 - 8/28)
        </h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon">
            <i class="fa-solid fa-earth-americas"></i>
          </div>
          <div class="divider-custom-line"></div>
        </div>
        <h3 style="text-align: center" class="mb-4">
          Visit the map in full screen
          <a href="https://api.mapbox.com/styles/v1/louie3r/cm8htqvrv00v901s5f6py6yfo.html?title=view&access_token=pk.eyJ1IjoibG91aWUzciIsImEiOiJjbGw0M3c5YXgwMjg5M2Nzc2twOXJ3M2tjIn0.vaR-SfpFZC26Go85Rv2leg&zoomwheel=true&fresh=true#13.71/39.9496/-75.16931" target="_blank" class="link">here</a>
        </h3>
        <div id="map"></div>

        <!-- <iframe width='100%' src="https://api.mapbox.com/styles/v1/louie3r/cm8htqvrv00v901s5f6py6yfo/draft.html?title=false&access_token=pk.eyJ1IjoibG91aWUzciIsImEiOiJjbGw0M3c5YXgwMjg5M2Nzc2twOXJ3M2tjIn0.vaR-SfpFZC26Go85Rv2leg&zoomwheel=false#13.13/39.9536/-75.16355" title="Custom Style 1" style="border:none; border-radius: 1.5rem; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3); height: 70vh;"></iframe>         -->
        <!-- <div class="row">
          <div id="map"></div>
        </div> -->
        <!-- iFrame-->
        <!-- <div class="iframe-container">
          <iframe
            src="https://experience.arcgis.com/experience/39acd9a477574c2081015cf3bd9edbe4"
            width="100%"
            height="800px"
          ></iframe>
        </div> -->
        <h3 style="text-align: center; margin-top: 2rem">
          All listed bars host Sips deals from 5-7 pm. See the full list of bars
          and deals
          <a href="https://centercityphila.org/explore-center-city/ccd-sips" target="_blank" class="link">here</a>
        </h3>
      </div>
    </section>

    <!-- Happy Hour Map -->
    <section class="page-section bg-primary text-white" id="deals">
      <div class="container">
        <h2
          class="page-section-heading text-center text-uppercase text-secondary mb-0 text-white"
        >
          Happy Hour Deals (UNDER CONSTRUCTION)
        </h2>
        <h3
          class="text-center text-uppercase text-secondary mt-5 mb-0 text-white"
        >
          Exciting things are coming!
        </h3>
        <div class="row mt-4">
          <div class="col-1"></div>
          <div class="col-lg-10 ms-auto">
            <p class="lead">
              We are currently developing an exciting feature to our website - a
              web map encompassing all Philly happy hour options.
            </p>
            <p class="lead">
              Soon, you'll have the ability to explore a comprehensive list of
              Philadelphia bars, complete with a range of filters such as
              pricing, bar reviews, categorization, contact details including
              the bar's website and phone number, operational hours, and
              searchable menu keywords.
            </p>
            <p class="lead">
              We are also excited to introduce a feature that will enable users
              to explore these bars' happy hour specials. This will allow you to
              see the value of these deals by comparing the prices of the drinks
              to the average prices of similar drinks in the area.
            </p>
          </div>
          <div class="col-1"></div>
        </div>
        <div class="divider-custom divider-light">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon">
            <i class="fa-solid fa-earth-americas"></i>
          </div>
          <div class="divider-custom-line"></div>
        </div>
      </div>
    </section>

    <!-- Footer-->
    <footer class="footer text-center">
      <div class="container">
        <div class="row">
          <!-- Footer Location-->
          <div class="col-lg-4 mb-5 mb-lg-0">
            <h4 class="text-uppercase mb-4">Location</h4>
            <p class="lead mb-0">
              Philadelphia
              <br />
              PA, USA
            </p>
            <a style="text-decoration: underline; font-size: 12px;" class="nav-link py-2 px-0 px-lg-3 rounded" href="birthday.html"
                >Birthday Boy</a
              >
          </div>
          <!-- Footer Social Icons-->
          <div class="col-lg-4 mb-5 mb-lg-0">
            <h4 class="text-uppercase mb-4">Around the Web</h4>
            <a
              class="btn btn-outline-light btn-social mx-1"
              href="https://youtu.be/zsX-4LThKv4"
              target="_blank"
              ><i class="fab fa-fw fa-youtube"></i
            ></a>
            <a
              class="btn btn-outline-light btn-social mx-1"
              href="https://www.linkedin.com/in/ava-patterson-aip5302/"
              target="_blank"
              ><i class="fab fa-fw fa-linkedin-in"></i
            ></a>
            <a
              class="btn btn-outline-light btn-social mx-1"
              href="https://www.linkedin.com/in/louis-rodriguez-9b6187128/"
              target="_blank"
              ><i class="fab fa-fw fa-linkedin-in"></i
            ></a>
            <a
              class="btn btn-outline-light btn-social mx-1"
              href="https://github.com/LouieR3/Philly-Happy-Hour-Map"
              target="_blank"
              ><i class="fab fa-fw fa-github"></i
            ></a>
          </div>
          <!-- Footer About Text-->
          <div class="col-lg-4">
            <h4 class="text-uppercase mb-4">Other Sites</h4>
            <p class="lead mb-0">
              Visit
              <a
                style="color: white"
                href="https://louier3-fantasy-football-page.streamlit.app/"
                target="_blank"
              >
                Louie's fantasy football web app here</a
              >, with his world renowned "Louie Power Index (LPI)"
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="js/jquery-3.0.0.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- Include jQuery -->
    <script src="js/jquery.sticky.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.10.0/mapbox-gl.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script>
      mapboxgl.accessToken = 'pk.eyJ1IjoibG91aWUzciIsImEiOiJjbGw0M3c5YXgwMjg5M2Nzc2twOXJ3M2tjIn0.vaR-SfpFZC26Go85Rv2leg';
      const map = new mapboxgl.Map({
          container: 'map', // container ID
          style: 'mapbox://styles/louie3r/cm8htqvrv00v901s5f6py6yfo?optimize=true', // Map style
          center: [-75.1652, 39.9526], // Center City, Philadelphia
          zoom: 14,
          minzoom: 15, // Adjust zoom to show more of Center City
          maxzoom: 19 // Adjust zoom to show more of Center City
      });

    /*
      Add an event listener that runs when a user clicks on the map element.
    */
    // map.on('load', () => {
    //     // Get the style object
    //     const style = map.getStyle();

    //     // Print all layer IDs to the console
    //     console.log('Layers in the current style:');
    //     style.layers.forEach(layer => {
    //         console.log(layer.id);
    //     });
    // });
    map.on('click', (event) => {
      // If the user clicked on one of your markers, get its information.
      const features = map.queryRenderedFeatures(event.point, {
        layers: ['center-city-sips-bars'] // replace with your layer name
      });
      if (!features.length) {
        return;
      }
      const feature = features[0];
      console.log(feature);
      console.log(feature.properties);

      
      const popup = new mapboxgl.Popup({ offset: [0, -15] })
        .setLngLat(feature.geometry.coordinates)
        .setHTML(
          `
          <h5 style="text-align: center;">${feature.properties.Name}</h5>
          <p style="text-align: center;">${feature.properties.Address}</p>
          <a  style="text-align: center; display: block;" href="${feature.properties.Website}" target="_blank" class="link">View their Website</a>
          <p style="text-align: center;"><b>Sips Deals:</b><br><b>$7 Cocktails:</b><br>${feature.properties.SIPS_COCKTAILS}<br><b>$6 Wine:</b><br>${feature.properties.SIPS_WINE}<br><b>$5 Beer:</b><br>${feature.properties.SIPS_BEER}<br><b>Half Priced Apps:</b><br>${feature.properties.SIPS_HALFPRICEDAPPS}</p>
          `
          // `<h5 style="text-align: center;">${feature.properties.Name}</h5>SIPS_COCKTAILS,SIPS_WINE,SIPS_BEER,SIPS_HALFPRICEDAPPS
          // <p style="text-align: center;">${feature.properties.Address}</p>
          // <a  style="text-align: center; display: block;" href="${feature.properties.Website}" target="_blank" class="link">View their Website</a>
          // <img src="${feature.properties.RW_PHOTO}" style="width: 80%; display: block; margin: auto; padding-top: 1rem;" alt="Photo of restaurant front">
          // `
        )
        .addTo(map);
      });
      /*
        Create a popup, specify its options
        and properties, and add it to the map.
      */
    </script>
    <!-- <script>
      $(document).ready(function () {
        $("#table_sort").DataTable({
          pageLength: 10,
          lengthMenu: [10, 20, 40, 75],
        });
        $(".dataTables_length").addClass("bs-select");
      });
    </script> -->
  </body>
</html>
